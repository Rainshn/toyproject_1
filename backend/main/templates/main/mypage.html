{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ë§ˆì´í˜ì´ì§€</title>
  <link rel="stylesheet" href="{% static 'home.css' %}" />
</head>
<body>
  <div class="mypage-container">
    <header class="mypage-header">
      <button class="back-btn" onclick="history.back()">â†</button>
      <h2>ë§ˆì´í˜ì´ì§€</h2>
    </header>

    <div class="mypage-profile">
      <div class="mypage-avatar">
        <img src="{
        % static 'images/logoicon.svg' %}" alt="í”„ë¡œí•„ ì•„ì´ì½˜" />
      </div>
      <p class="mypage-name">{{ user.nickname }}</p>
      <p class="mypage-email">{{ user.email }}</p>
    </div>

    <div class="mypage-buttons">
      <button class="logout-btn" onclick="openLogoutModal()">ë¡œê·¸ì•„ì›ƒ</button>
      <button class="withdraw-btn" onclick="openWithdrawModal()">íšŒì›íƒˆí‡´</button>
    </div>
  </div>

  <!-- ë¡œê·¸ì•„ì›ƒ ëª¨ë‹¬ -->
<div class="alert-overlay" id="logoutModal">
    <div class="alert-box">
      <p>ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
      <div class="alert-buttons">
        <button onclick="closeLogoutModal()">ì·¨ì†Œ</button>
        <button class="confirm" onclick="confirmLogout()">ë¡œê·¸ì•„ì›ƒ</button>
      </div>
    </div>
  </div>

  <!-- íšŒì›íƒˆí‡´ ëª¨ë‹¬ -->
<div class="alert-overlay" id="withdrawModal">
    <div class="alert-box">
      <p>ì •ë§ íƒˆí‡´í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
      <div class="alert-buttons">
        <button onclick="closeWithdrawModal()">ì·¨ì†Œ</button>
        <button class="confirm" onclick="confirmWithdraw()">íšŒì›íƒˆí‡´</button>
      </div>
    </div>
  </div>

  <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
  <footer class="bottom-nav">
    <button class="nav-icon"><img src="{% static 'images/icon-home.png' %}" alt="í™ˆ" /></button>
    <button class="floating-button">ï¼‹</button>
    <button class="nav-icon"><img src="{% static 'images/icon-record.png' %}" alt="ê¸°ë¡" /></button>
  </footer>

  <!-- ë¡œê·¸ì•„ì›ƒ í¼ -->
  <form id="logoutForm" action="/accounts/logout/" method="post" style="display:none;">
    {% csrf_token %}
  </form>

  <!-- íšŒì›íƒˆí‡´ í¼ -->
  <form id="withdrawForm" action="/accounts/withdrawal/" method="post" style="display:none;">
    {% csrf_token %}
  </form>

  <script>
    // ğŸ”µ ë¡œê·¸ì•„ì›ƒ ëª¨ë‹¬
    function openLogoutModal() {
      document.getElementById("logoutModal").style.display = "flex";
    }

    function closeLogoutModal() {
      document.getElementById("logoutModal").style.display = "none";
    }

    function confirmLogout() {
      document.getElementById("logoutForm").submit(); // ì˜ˆ: ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
    }

    // ğŸ”´ íšŒì›íƒˆí‡´ ëª¨ë‹¬
    function openWithdrawModal() {
      document.getElementById("withdrawModal").style.display = "flex";
    }

    function closeWithdrawModal() {
      document.getElementById("withdrawModal").style.display = "none";
    }

    function confirmWithdraw() {
      document.getElementById("withdrawForm").submit(); // ì˜ˆ: íƒˆí‡´ í›„ ì´ë™í•  í˜ì´ì§€
    }
  </script>
</body>
</html>
